var googleCalEvents=function(){"use strict";var a,e=function(e){var c;a=e;var r="https://www.googleapis.com/calendar/v3/calendars/"+e.calendarAddress+"/events?key="+e.calendarAPI;jQuery.getJSON(r,function(a){(c=a.items).sort(t).reverse();var r,s=0,d=0,l=[],o=[],v=jQuery(e.upcomingSelector),m=jQuery(e.pastSelector);!1===e.past?e.maxPast=0:-1===e.maxPast&&(e.maxPast=c.length),!1===e.upcoming?e.maxUpcoming=0:-1===e.maxUpcoming&&(e.maxUpcoming=c.length);for(r in c)n(c[r].end.dateTime||c[r].end.date)?s<e.maxPast&&(l.push(c[r]),s++):o.push(c[r]);o.reverse(),s=1;for(r in l)m.append(i(l[r],e.format,e.times,1===s,s===l.length)),s++;d=1;for(r in o){if(!(d<e.maxUpcoming))break;v.append(i(o[r],e.format,e.times,1===d,d===o.length||d===e.maxUpcoming)),d++}jQuery(g()).insertBefore(v),0!==v.children().length?($("div").addClass(function(a,e){var t;return"cal"===e&&(t="cal-calendar"),t}),jQuery(e.upcomingHeading).insertBefore(v)):0!==e.maxUpcoming&&jQuery(e.noUpcomingHeading).insertBefore(v),jQuery(g()).insertBefore(m),0!==m.children().length?($("div").addClass(function(a,e){var t;return"cal"===e&&(t="cal-calendar"),t}),jQuery(e.pastHeading).insertBefore(m)):0!==e.maxUpcoming&&jQuery(e.noPastHeading).insertBefore(m)})},t=function(a,e){return new Date(a.start.dateTime||a.start.date).getTime()-new Date(e.start.dateTime||e.start.date).getTime()},n=function(a){var e=new Date(a);return(new Date).getTime()>e.getTime()},i=function(e,t,n,i,s){var d,o=void 0!==e.start.date,m=c(e.start.dateTime||e.start.date,o),u=c(e.end.dateTime||e.end.date,o),g=m[1]+1,p=(m[2].toString(),m[0]<10?m[0]:m[0],'<div class="'+(i?"cal-event cal-event-first":s?"cal-event cal-event-last":"cal-event")+'">'),f=e.summary||"",h=e.description||"",y=e.location||"";for(o&&(u=v(u)),d=0;d<t.length;d++)t[d]=t[d].toString(),p="*summary*"===t[d]?!0===a.links?p.concat('<div class="cal-summary"><a class="cal-link" href="'+e.htmlLink+'">'+f+"</a></div>"):p.concat('<div class="cal-summary">'+f+"</div>"):"*date*"===t[d]?p.concat(r(m,u,o,n)):"*description*"===t[d]?p.concat('<div class="cal-description">'+h+"</div>"):"*location*"===t[d]?p.concat('<div class="cal-location">'+y+"</div>"):"*starttime*"===t[d]&&n&&!o?p.concat(l(m)):"*endtime*"===t[d]&&n&&!o?p.concat(l(u)):p.concat(t[d]);return p+"</div>"},c=function(a,e){var t=a.toString().split("-"),n=e?new Date(t[0],parseInt(t[1])-1,t[2],0,0,0):new Date(a);return[n.getDate(),n.getMonth(),n.getFullYear(),n.getHours(),n.getMinutes(),n.getDay()]},r=function(a,e,t){return a[2]!==e[2]||a[1]!==e[1]||a[0]!==e[0]?s(a,e):d(a,e,t)},s=function(a,e){return'<div class="cal-date"><div class="cal-date-day">'+a[0]+'</div><div class="cal-date-sub"><div class="cal-date-month">'+o(a[1])+'</div><div class="cal-date-year">'+a[2]+'</div></div></div><div class="cal-date-to">-</div><div class="cal-date cal-date-end"><div class="cal-date-day">'+e[0]+'</div><div class="cal-date-sub"><div class="cal-date-month">'+o(e[1])+'</div><div class="cal-date-year">'+e[2]+"</div></div></div>"},d=function(a,e,t){return'<div class="cal-date"><div class="cal-date-day">'+a[0]+'</div><div class="cal-date-sub"><div class="cal-date-month">'+o(a[1])+'</div><div class="cal-date-year">'+a[2]+"</div></div></div>"},l=function(a){var e="AM",t=a[3],n=a[4];return t>=12&&(e="PM",t=t>12?t-12:t),0===t&&(t=12),n=(n<10?"0":"")+n,t+":"+n+e},o=function(a){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][a]},v=function(a){var e=m(a);return e.setTime(e.getTime()-6e4),c(e)},m=function(a){return new Date(a[2],a[1],a[0],a[3],a[4],0)},u=function(a,e){var t,n={};for(t in a)n[t]=a[t];for(t in e)n[t]=e[t];return n},g=function(){return"\x3c!-- Get this calendar at https://github.com/grecaun/js-google-calendar --\x3e"};return{init:function(a){var t={calendarAddress:"yetaranu@gmail.com",calendarAPI:"AIzaSyAg4zI3k917EGbnYZkssdEbJYeGMn2Osdo",past:!0,upcoming:!0,times:!0,links:!0,maxPast:-1,maxUpcoming:-1,upcomingSelector:"#cal-upcoming",pastSelector:"#cal-past",upcomingHeading:'<div class="cal-header">Upcoming Events</div>',noUpcomingHeading:'<div class="cal-header">There are no events coming up.</div>',pastHeading:'<div class="cal-header">Past Events</div>',noPastHeading:'<div class="cal-header">There are no past events.</div>',format:["*date*","*summary*","*description*","*location*"]};t=u(t,a),e(t)}}}();