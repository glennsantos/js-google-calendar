var googleCalEvents=function(){"use strict";var a,e=function(e){var c;a=e;var r="https://www.googleapis.com/calendar/v3/calendars/"+e.calendarAddress+"/events?key="+e.calendarAPI;jQuery.getJSON(r,function(a){(c=a.items).sort(t).reverse();var r,s=0,d=0,o=[],l=[],v=jQuery(e.upcomingSelector),m=jQuery(e.pastSelector);!1===e.past?e.maxPast=0:-1===e.maxPast&&(e.maxPast=c.length),!1===e.upcoming?e.maxUpcoming=0:-1===e.maxUpcoming&&(e.maxUpcoming=c.length);for(r in c)n(c[r].end.dateTime||c[r].end.date)?s<e.maxPast&&(o.push(c[r]),s++):l.push(c[r]);l.reverse(),s=1;for(r in o)m.append(i(o[r],e.format,e.times,1===s,s===o.length)),s++;d=1;for(r in l){if(!(d<e.maxUpcoming))break;v.append(i(l[r],e.format,e.times,1===d,d===l.length||d===e.maxUpcoming)),d++}jQuery(g()).insertBefore(v),0!==v.children().length?($("div").addClass(function(a,e){var t;return"cal"===e&&(t="cal-calendar"),t}),jQuery(e.upcomingHeading).insertBefore(v)):0!==e.maxUpcoming&&jQuery(e.noUpcomingHeading).insertBefore(v),jQuery(g()).insertBefore(m),0!==m.children().length?($("div").addClass(function(a,e){var t;return"cal"===e&&(t="cal-calendar"),t}),jQuery(e.pastHeading).insertBefore(m)):0!==e.maxUpcoming&&jQuery(e.noPastHeading).insertBefore(m)})},t=function(a,e){return new Date(a.start.dateTime||a.start.date).getTime()-new Date(e.start.dateTime||e.start.date).getTime()},n=function(a){var e=new Date(a);return(new Date).getTime()>e.getTime()},i=function(e,t,n,i,s){var d,l=void 0!==e.start.date,m=c(e.start.dateTime||e.start.date,l),u=c(e.end.dateTime||e.end.date,l),g=m[1]+1,p=m[2].toString()+(g<10?"0"+g:g)+(m[0]<10?"0"+m[0]:m[0]),f='<div class="'+(i?"cal-event cal-event-first":s?"cal-event cal-event-last":"cal-event")+'">',h=e.summary||"",y=e.description||"",x=e.location||"";for(l&&(u=v(u)),d=0;d<t.length;d++)t[d]=t[d].toString(),f="*summary*"===t[d]?!0===a.links?f.concat('<div class="cal-summary"><a class="cal-link" href="https://calendar.google.com/calendar/render?src='+a.calendarAddress+"&tab=mc&date="+p+'">'+h+"</a></div>"):f.concat('<div class="cal-summary">'+h+"</div>"):"*date*"===t[d]?f.concat(r(m,u,l,n)):"*description*"===t[d]?f.concat('<div class="cal-description">'+y+"</div>"):"*location*"===t[d]?f.concat('<div class="cal-location">'+x+"</div>"):"*starttime*"===t[d]&&n&&!l?f.concat(o(m)):"*endtime*"===t[d]&&n&&!l?f.concat(o(u)):f.concat(t[d]);return f+"</div>"},c=function(a,e){var t=a.toString().split("-"),n=e?new Date(t[0],parseInt(t[1])-1,t[2],0,0,0):new Date(a);return[n.getDate(),n.getMonth(),n.getFullYear(),n.getHours(),n.getMinutes(),n.getDay()]},r=function(a,e,t){return a[2]!==e[2]||a[1]!==e[1]||a[0]!==e[0]?s(a,e):d(a,e,t)},s=function(a,e){return'<div class="cal-date"><div class="cal-date-month">'+l(a[1])+'</div><div class="cal-date-day">'+a[0]+'</div><div class="cal-date-year">'+a[2]+'</div></div><div class="cal-date-to">-</div><div class="cal-date cal-date-end"><div class="cal-date-month">'+l(e[1])+'</div><div class="cal-date-day">'+e[0]+'</div><div class="cal-date-year">'+e[2]+"</div></div>"},d=function(a,e,t){return'<div class="cal-date"><div class="cal-date-month">'+l(a[1])+'</div><div class="cal-date-day">'+a[0]+'</div><div class="cal-date-year">'+a[2]+"</div></div>"},o=function(a){var e="AM",t=a[3],n=a[4];return t>=12&&(e="PM",t=t>12?t-12:t),0===t&&(t=12),n=(n<10?"0":"")+n,t+":"+n+e},l=function(a){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][a]},v=function(a){var e=m(a);return e.setTime(e.getTime()-6e4),c(e)},m=function(a){return new Date(a[2],a[1],a[0],a[3],a[4],0)},u=function(a,e){var t,n={};for(t in a)n[t]=a[t];for(t in e)n[t]=e[t];return n},g=function(){return"\x3c!-- Get this calendar at https://github.com/grecaun/js-google-calendar --\x3e"};return{init:function(a){var t={calendarAddress:"yetaranu@gmail.com",calendarAPI:"AIzaSyAg4zI3k917EGbnYZkssdEbJYeGMn2Osdo",past:!0,upcoming:!0,times:!0,links:!0,maxPast:-1,maxUpcoming:-1,upcomingSelector:"#cal-upcoming",pastSelector:"#cal-past",upcomingHeading:'<div class="cal-header">Upcoming Events</div>',noUpcomingHeading:'<div class="cal-header">There are no events coming up.</div>',pastHeading:'<div class="cal-header">Past Events</div>',noPastHeading:'<div class="cal-header">There are no past events.</div>',format:["*date*","*summary*","*description*","*location*"]};t=u(t,a),e(t)}}}();