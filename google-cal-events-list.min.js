var googleCalEvents=function(){"use strict";var e,a=function(a){var c;e=a;var i="https://www.googleapis.com/calendar/v3/calendars/"+a.calendarAddress+"/events?key="+a.calendarAPI;jQuery.getJSON(i,function(e){(c=e.items).sort(n).reverse();var i,s=0,o=0,d=[],u=[],l=jQuery(a.upcomingSelector),m=jQuery(a.pastSelector);!1===a.past?a.maxPast=0:-1===a.maxPast&&(a.maxPast=c.length),!1===a.upcoming?a.maxUpcoming=0:-1===a.maxUpcoming&&(a.maxUpcoming=c.length);for(i in c)t(c[i].end.dateTime||c[i].end.date)?s<a.maxPast&&(d.push(c[i]),s++):u.push(c[i]);u.reverse(),s=1;for(i in d)m.append(r(d[i],a.format,a.times,1===s,s===d.length,a.dayNames)),s++;o=1;for(i in u){if(!(o<a.maxUpcoming))break;l.append(r(u[i],a.format,a.times,1===o,o===u.length||o===a.maxUpcoming,a.dayNames)),o++}jQuery(f()).insertBefore(l),0!==l.children().length?($("div").addClass(function(e,a){var n;return"cal"===a&&(n="cal-calendar"),n}),jQuery(a.upcomingHeading).insertBefore(l)):0!==a.maxUpcoming&&jQuery(a.noUpcomingHeading).insertBefore(l),jQuery(f()).insertBefore(m),0!==m.children().length?($("div").addClass(function(e,a){var n;return"cal"===a&&(n="cal-calendar"),n}),jQuery(a.pastHeading).insertBefore(m)):0!==a.maxUpcoming&&jQuery(a.noPastHeading).insertBefore(m)})},n=function(e,a){return new Date(e.start.dateTime||e.start.date).getTime()-new Date(a.start.dateTime||a.start.date).getTime()},t=function(e){var a=new Date(e);return(new Date).getTime()>a.getTime()},r=function(a,n,t,r,s,o){var d,u=void 0!==a.start.date,l=c(a.start.dateTime||a.start.date,u),m=c(a.end.dateTime||a.end.date,u),p=l[1]+1,v=l[2].toString()+(p<10?"0"+p:p)+(l[0]<10?"0"+l[0]:l[0]),f=r?"cal-event cal-event-first":s?"cal-event cal-event-last":"cal-event",y=!0===e.links?'<div class="'+f+'"><a class="cal-link" href="https://calendar.google.com/calendar/render?src='+e.calendarAddress+"&tab=mc&date="+v+'">\x3c!--'+u+"--\x3e":'<div class="'+f+'">\x3c!--'+u+"--\x3e",h=a.summary||"",x=a.description||"",T=a.location||"";u&&(m=g(m));var S=i(l,m,u,t,o);for(d=0;d<n.length;d++)n[d]=n[d].toString(),y="*summary*"===n[d]?y.concat('<span class="cal-summary">'+h+"</span>"):"*date*"===n[d]?y.concat('<span class="cal-date">'+S+"</span>"):"*description*"===n[d]?y.concat('<span class="cal-description">'+x+"</span>"):"*location*"===n[d]?y.concat('<span class="cal-location">'+T+"</span>"):y.concat(n[d]);return y+"</a></div>"},c=function(e,a){var n=e.toString().split("-"),t=a?new Date(n[0],parseInt(n[1])-1,n[2],0,0,0):new Date(e);return[t.getDate(),t.getMonth(),t.getFullYear(),t.getHours(),t.getMinutes(),t.getDay()]},i=function(e,a,n,t,r){return e[2]!==a[2]?s(e,a,r):e[1]!==a[1]||e[0]!==a[0]?o(e,a,r):d(e,a,n,t,r)},s=function(e,a,n){var t="",r="";return n&&(t=m(e[5]),r=m(a[5])),t+l(e[1])+" "+e[0]+", "+e[2]+" - "+r+l(a[1])+" "+a[0]+", "+a[2]},o=function(e,a,n){var t="",r="";return n&&(t=m(e[5]),r=m(a[5])),t+l(e[1])+" "+e[0]+"-"+r+l(a[1])+" "+a[0]+", "+e[2]},d=function(e,a,n,t,r){var c="",i="";return r&&(i=m(e[5])),t&&!n&&(c=" from "+u(e)+" to "+u(a)),i+l(e[1])+" "+e[0]+", "+e[2]+c},u=function(e){var a="AM",n=e[3],t=e[4];return n>=12&&(a="PM",n=n>12?n-12:n),0===n&&(n=12),t=(t<10?"0":"")+t,n+":"+t+a},l=function(e){return["January","February","March","April","May","June","July","August","September","October","November","December"][e]},m=function(e){return["Sunday ","Monday ","Tuesday ","Wednesday ","Thursday ","Friday ","Saturday "][e]},g=function(e){var a=p(e);return a.setTime(a.getTime()-6e4),c(a)},p=function(e){return new Date(e[2],e[1],e[0],e[3],e[4],0)},v=function(e,a){var n,t={};for(n in e)t[n]=e[n];for(n in a)t[n]=a[n];return t},f=function(){return"\x3c!-- Get this calendar at https://github.com/grecaun/js-google-calendar --\x3e"};return{init:function(e){var n={calendarAddress:"yetaranu@gmail.com",calendarAPI:"AIzaSyAg4zI3k917EGbnYZkssdEbJYeGMn2Osdo",past:!0,upcoming:!0,dayNames:!0,times:!0,links:!0,maxPast:-1,maxUpcoming:-1,upcomingSelector:"#cal-upcoming",pastSelector:"#cal-past",upcomingHeading:'<div class="cal-header">Upcoming Events</div>',noUpcomingHeading:'<div class="cal-header">There are no events coming up.</div>',pastHeading:'<div class="cal-header">Past Events</div>',noPastHeading:'<div class="cal-header">There are no past events.</div>',format:["*date*","*summary*","*description*","*location*"]};n=v(n,e),a(n)}}}();